(this.$WP=this.$WP||[]).push(["tV1cF7",(e,t)=>{"use strict";var r,i,a,n,s,l,o,d,u,c,v,m,f,E,p,b,g,h,x,y,_,z,R,C;function L(e,t){if(null==e)return{};var r,i,a={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}var O={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0};function A(e,t,r="",i=!1,u){var[p,b]=s(null),g=l(null),h=o(e=>{b(e)},[]),x=`slot:${e.replace(/\|/g,"-")}:${t}`,{domainName:_}=a(E),z=a(v),R=function(e,t){var r=c(),i=a(y),s=function(e,t){var{userAgentCategory:r,isWebview:i}=a(f);if("MOBILE"===r){if(e.includes("8x8"))return i?"app_external":"web_external";if("adhesion"===t)return"adhesion"}return null}(e,t),l=function(e,t){return"horizon"===t?"horizon":e.includes("728x90")?"banner":"300x250"===e&&t.startsWith("rail")?"shortRail":t.startsWith("rail")?"rail":null}(e,t);return n(()=>{if(!r)return null;var{adBase:e,ppid:a}=r,n=L(r,["adBase","ppid"]);return Object.assign({},n,{},l&&{fluidType:l},{},s&&{mob_adslot:s},{pos:t},i,{adBase:e,ppid:a})},[r,s,l,t,i])}(e,t),[C,A]=s(O),{isLoaded:w,isRendered:I,isVisible:T}=C,B=o(e=>{g.current&&g.current.contentWindow.postMessage(e,_)},[_]),N=null!==R,S=l(!1);S.current=N&&w&&T;var k=n(()=>m(()=>{z&&z.refreshSlot(x)},3e4),[z,x]);return d(()=>{if(I&&p&&(g.current=p.querySelector("iframe"),g.current&&u)){var e=e=>{var t;e.source===(null==(t=g.current)?void 0:t.contentWindow)&&e.data&&"object"==typeof e.data&&u(e.data)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[I,p,u]),d(()=>{S.current&&k()},[k,r,S]),d(()=>{if(p&&N&&z&&R){var r={id:x,elem:p,size:e,position:t,targeting:R,aboveTheFold:i},{addEventListener:a}=z.createSlot(r),n=a(e=>{A(t=>Object.assign({},t,{},e))});return()=>{z.destroySlot(x),A(O),n()}}},[x,z,p,e,t,R,i,N]),Object.assign({ref:h,id:x,postMessage:B},C)}function w(e,t=""){var[r,i]=s(0);return d(()=>{var t=setInterval(()=>{i(e=>e+1)},e);return()=>clearInterval(t)},[t,i,e]),t+r.toString()}function I(e=""){var[t,r]=s(!0);return d(()=>{var e=()=>{r(["visible","prerender"].includes(document.visibilityState))};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),e+t.toString()}function T(){return w(6e4,I())}var B=({children:e=null})=>{var{viewportCategory:t}=a(f),{ref:i,id:n,isEmpty:l}=A("320x50","adhesion","",!0),[u,c]=s(!1);d(()=>{var e=!b.get("WP.adhesionDismissed");c(e)},[]);var v=o(()=>{b.set("WP.adhesionDismissed",!0),c(!1)},[]);return"MOBILE"!==t?null:r.createElement(r.Fragment,null,u&&r.createElement("div",{className:"_1Bl71oI4"},!l&&r.createElement("button",{className:"_1ZJQKlGa",onClick:v},r.createElement(g,{name:"times",color:"secondaryIcon",size:16})),r.createElement("div",{id:n,ref:i,className:p("_2V7XDyUi",{_1juxFKW2:l})})),(!u||l)&&e)},N=({size:e="300x250|300x600|160x600",position:t="rail1"})=>{var{viewportCategory:i}=a(f),n=T(),{ref:s,id:l,isEmpty:o}=A(e,t,n,!1);return"MOBILE"!==i?r.createElement("div",{id:l,className:p("_1v0UqRCz","dCNNuUl9",{_1l0VRfHm:o}),ref:s}):null};function S(e,t){var{size:r}=e,i=L(e,["size"]),{size:a}=t,n=L(t,["size"]);return h(i,n)&&h(r,a)}var k={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},D=({size:{mobile:e=k.mobile,tablet:t=k.tablet,desktop:i=k.desktop}=k,position:n="inline1"})=>{var{viewportCategory:s}=a(f),l=T(),o={MOBILE:e,TABLET:t,DESKTOP:i}[s],{ref:d,id:u,isEmpty:c}=A(o||"",n,l,!1);return o?r.createElement("div",{id:u,ref:d,className:p("_1v0UqRCz",{_1l0VRfHm:c})}):null},P={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},V=({size:{mobile:e=P.mobile,tablet:t=P.tablet,desktop:i=P.desktop}=P})=>{var{viewportCategory:n}=a(f),s=T(),l={MOBILE:e,TABLET:t,DESKTOP:i}[n],{ref:o,id:d,isEmpty:u}=A(l||"","footer",s,!1);return l?r.createElement("div",{id:d,ref:o,className:p("_1v0UqRCz",{_1l0VRfHm:u})}):null},W={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},M=()=>{var{cdnPrefix:e}=a(E),t=e+"/img2/brand_refresh/Tripadvisor_lockup_horizontal.svg";return r.createElement("div",{className:p("_1v0UqRCz","_3I-_3D7A")},r.createElement("div",{className:"AI8ACRmB"},r.createElement("img",{src:t,alt:"Tripadvisor"})),r.createElement("div",{className:"x22W38y0"},r.createElement(x,{id:"brand_save_money_we_search_200"})))},U=({children:e=r.createElement(M,null),reserveHeight:t=!0,size:{mobile:i=W.mobile,tablet:n=W.tablet,desktop:s=W.desktop}=W})=>{var{viewportCategory:l}=a(f),o=T(),d={MOBILE:i,TABLET:n,DESKTOP:s}[l],{ref:u,id:c,isRendered:v,isEmpty:m}=A(d||"","header",o,!0);return d?r.createElement("div",{className:p({_35dOU9f0:t})},t&&v&&m&&e,r.createElement("div",{id:c,ref:u,className:p("_1v0UqRCz",{_1l0VRfHm:v&&m})})):null};return e({useAd:A,useInterval:w,usePageVisibility:I,useRefreshKey:T}),[()=>{y=i({}),_=u(N),z=u(D,S),R=u(V,S),C=u(U,S),e({AdTargeting:y,Adhesion:B,FooterAd:R,HeaderAd:C,InlineAd:z,RailAd:_,useAd:A,useInterval:w,usePageVisibility:I,useRefreshKey:T})},[e=>(r=e.default,i=e.createContext,a=e.useContext,n=e.useMemo,s=e.useState,l=e.useRef,o=e.useCallback,d=e.useEffect,u=e.memo),e=>(c=e.usePageTargeting,v=e.AdServer),e=>m=e.default,e=>(f=e.Device,E=e.Environment),e=>p=e.default,e=>b=e.default,e=>g=e.default,e=>h=e.shallowEquals,e=>x=e.UnsafeLocalize]]},["cDcdfi","5-GvUO","gsKhh7","2R4xv2","jSLlaY","jaCyxS","OMqGt0","XtxvfD","0DsHEV"]]);
