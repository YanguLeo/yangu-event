wpJsonpTijdEcho([13],{1382:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"CommentStep",function(){return n}),a.d(t,"CommentOverlay",function(){return g});var n,s=a(3),r=a(5),m=(a.n(r),a(1875)),i=a(7),o=a(15),c=a(1877),l=a(4),u=a(1881),d=a(625),p=a(179),f=a(1882),h=a(1790);!function(e){e[e.MESSAGE=0]="MESSAGE",e[e.REGISTER=1]="REGISTER",e[e.ALIAS=2]="ALIAS"}(n||(n={}));var g=function(e){function t(t){var a=e.call(this,t)||this;return a.getAssetType=function(e){return e?p.a[e.toUpperCase()]:p.a.ARTICLE},a.formatDate=function(e){var t=e.getMonth()+1,a=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(a>9?"":"0")+a].join("")},a.setIssueCommentsSettings=function(e){if(!l.a.exists(a.state.params.createdAfter)){var t=new Date;t.setDate(t.getDate()-75),a.formatDate(t),a.setState({commentsEnabled:e,params:Object(s.a)(Object(s.a)({},a.state.params),{createdAfter:a.formatDate(t)})},function(){a.state.commentsEnabled&&a.fetchCommentsCount()})}},a.openCommentsPanel=function(){a._self.classList.add("comments--form-active"),document.getElementsByTagName("html").item(0).className+=" has-comments-modal",a.props.enabled&&a.fetchComments(),a.focusTextarea()},a.sortComments=function(e){a.setState({fetching:!0,fetched:!1,params:Object(s.a)(Object(s.a)({},a.state.params),{sort:a.state.params.sort.split(",")[0]+","+e})},function(){return a.fetchComments()})},a._loadMore=function(e){a.setState({fetching:!0,params:Object(s.a)(Object(s.a)({},a.state.params),{pageSize:e})},function(){return a.fetchComments()})},a.fetchComments=function(){var e=a.props.assetId,t=a.getAssetType(a.props.assetType);l.a.exists(e)&&l.a.exists(t)&&p.c.getComments(e,t,a.state.params).subscribe(function(e){var t=e.comments?e.comments.map(function(e){return l.a.deepClone(e)}):[];a.setState({fetching:!1,fetched:!0,comments:t,mainComments:e.mainCount,totalComments:e.count},function(){return a.dispatchCommentCount()})},function(e){})},a.fetchCommentsCount=function(){var e=a.props.assetId,t=a.getAssetType(a.props.assetType);l.a.exists(e)&&l.a.exists(t)&&p.c.getCommentCount(e,t).subscribe(function(e){a.setState(Object(s.a)(Object(s.a)({},a.state),{totalComments:e.count}),function(){return a.dispatchCommentCount()})},function(e){})},a.dispatchCommentCount=function(){o.a.dispatch({actionType:"total-comments",amount:a.state.totalComments})},a._self=void 0,a._handleClick=function(e){a._handler||(a._handler=document.addEventListener("click",function(){return a._handleClick},!1)),a._self.contains(e.target)&&!e.target.classList.contains("comments__bg")||(a._handler=document.removeEventListener("click",function(){return a._handleClick},!1),d.a.closeCommentsModal())},a.updateText=function(e){var t=e.currentTarget.value;a.resizeTextarea(t),a.setState({reaction:t})},a.focusTextarea=function(){var e=document.getElementById("comment-message");l.a.exists(e)&&e.focus()},a.resizeTextarea=function(e){var t=e.split(/\n/g).length,a=document.getElementById("comment-message"),n=parseInt(a.getAttribute("data-grow-max-rows"));a.rows=t>=n?n:t},a.addComment=function(e){var t=a.state.comments,n=a.props.assetId,s=a.getAssetType(a.props.assetType);l.a.exists(n)&&l.a.exists(s)&&p.c.addComment(s,n,e.reaction,a.state.selected?a.state.selected:null).subscribe(function(e){var n=l.a.deepClone(e);if(a.state.selected){var s=t.findIndex(function(e){return e.urn===a.state.selected}),r=a.findParent(s,t);r.embedded.comments=a.pushComment(n,r.embedded.comments),r.embedded.count++,t[s]=r}else t=a.pushComment(n,t);a.updateComments(t,n)})},a.updateComments=function(e,t){a.setState({comments:e,mainComments:e.length,totalComments:a.state.totalComments+1},function(){a.addFeedback(t.urn),a.resetSelected(),a.dispatchCommentCount()})},a.findParent=function(e,t){var a=t[e];return l.a.exists(a.embedded)&&l.a.exists(a.embedded.comments)||(a.embedded={comments:[],count:0}),a},a.pushComment=function(e,t){return"created,asc"===a.state.params.sort?t.push(e):t.unshift(e),t},a.addFeedback=function(e){a.scrollToComment(e),o.a.dispatch({actionType:"highlight-comment",urn:e})},a.scrollToComment=function(e){var t=document.getElementById(e);l.a.exists(t)&&t.scrollIntoView()},a.select=function(e){a.setState({selected:e})},a.resetSelected=function(){a.setState({selected:void 0})},a.reset=function(){a.resetSelected(),a.commentsForm.clearForm(),d.a.closeCommentsModal()},a.state={fetched:!1,selected:void 0,mainComments:0,comments:[],totalComments:0,reaction:"",params:{pageSize:20,sort:"created,desc",page:0},timeAllowed:!0,commentsEnabled:t.enabled},a.updateText=a.updateText.bind(a),a}return Object(s.c)(t,e),t.prototype.componentDidMount=function(){var e=this;this.timeSubscription=u.a.getServiceObservable$().subscribe(function(t){if(l.a.exists(t)&&l.a.exists(t.payload)){var a=t.payload.canComment;e.setState({timeAllowed:a})}})},t.prototype.componentWillUnmount=function(){this.timeSubscription&&this.timeSubscription.unsubscribe()},t.prototype.componentWillMount=function(){var e=this;this.props&&this.props.enabled&&(this.getAssetType(this.props.assetType)===p.a.ISSUE?this.setIssueCommentsSettings(this.props.enabled):this.fetchCommentsCount()),window.addEventListener("open-comments",function(t){e.props.enabled&&e.openCommentsPanel()}),window.addEventListener("fetch-comments",function(t){e.props.enabled&&e.fetchComments()}),window.addEventListener("comments-allow",function(t){var a=t.detail;e.getAssetType(e.props.assetType)===p.a.ISSUE&&e.setIssueCommentsSettings(a.commentEnabled)},!1)},t.prototype.render=function(){var e=this;return this.state.commentsEnabled&&l.a.exists(this.state.totalComments)?r.createElement("aside",{className:"comments",id:"comments-aside",ref:function(t){e._self=t},onClick:function(t){e._handleClick(t)}},r.createElement("div",{className:"comments__bg"}),r.createElement("div",{className:"comments__content"},r.createElement("header",{className:"comments__header"},r.createElement("h2",null,i.a.getLabelWithArgs("comments.title",this.state.totalComments.toString())),r.createElement("button",{onClick:function(){d.a.closeCommentsModal()},className:"comments__header__closebutton"},r.createElement("span",{className:"sr-only"},i.a.get("comments.sr.close"))," ",r.createElement("span",{"aria-hidden":"true",className:"close"})),r.createElement(f.a,{sort:this.sortComments})),this.state.fetched&&r.createElement(m.a,{enabled:this.state.timeAllowed,lastItem:"",isEmbedded:!1,select:function(t){return e.select(t)},selected:this.state.selected,comments:this.state.comments,totalComments:this.state.mainComments,loadMore:this._loadMore,fetching:this.state.fetching}),!this.state.fetched&&r.createElement(h.a,{wrapperClass:"comments__list",amount:3}),r.createElement(c.a,{ref:function(t){e.commentsForm=t},resetSelected:this.resetSelected,enabled:this.state.timeAllowed,addComment:function(t){return e.addComment(t)}})),r.createElement("button",{className:"comments__closebutton",onClick:function(){e.reset()}},r.createElement("span",{className:"sr-only"},i.a.get("comments.sr.close"))," ",r.createElement("span",{"aria-hidden":"true",className:"close"}))):null},t}(r.Component)},1508:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(3),s=a(5),r=(a.n(s),a(28)),m=(a.n(r),function(e){function t(t){var a=e.call(this,t)||this;return a.textarea$=new r.Subject,a.charactersLeft=function(){return a.props.maxLength-a.props.value.length},a.handleChange=function(e){var t=e.target.value,n=a.props.value;a.props.shouldGrow&&a.resizeTextarea(t.substring(0,a.props.maxLength)),n!==t&&a.textarea$.next(t),t.length>=a.props.maxLength&&a.screenreaderMessage(a.props.exceededMessage)},a.screenreaderMessage=function(e){var t=document.getElementById("sr-"+a.props.id);t.innerHTML="",t.innerHTML=e},a.resizeTextarea=function(e){var t=document.getElementById(a.props.id),n=a.props.maxRows;t.style.height="auto",t.scrollHeight>t.clientHeight&&t.scrollHeight<=16*n?t.style.height=t.scrollHeight+5+"px":t.scrollHeight>t.clientHeight&&t.scrollHeight>16*n&&(t.style.height=16*n+5+"px",t.scrollTop=t.scrollHeight)},a.textarea$.subscribe(function(e){a.props.change(e)}),a}return Object(n.c)(t,e),t.prototype.render=function(){var e=this,t=this.charactersLeft();return s.createElement(s.Fragment,null,s.createElement("div",{id:"sr-"+this.props.id,className:"hidden","aria-live":"assertive"}),s.createElement("textarea",{id:this.props.id,className:this.props.className,rows:this.props.rows,"data-grow":this.props.shouldGrow,"data-grow-max-rows":this.props.maxRows?this.props.maxRows:5,"data-maxlength-counter":!0,maxLength:this.props.maxLength,value:this.props.value,onChange:function(t){return e.handleChange(t)},disabled:this.props.disabled,placeholder:this.props.placeholder,required:this.props.required}),s.createElement("div",{className:"form__maxlength-counter "},s.createElement("div",{className:"sr-only"},"beschikbare karakters:")," ",t),s.createElement("div",{className:"form__error","aria-live":"assertive"},0===t?this.props.exceededMessage:""))},t.defaultProps={disabled:!1,className:"",placeholder:"",required:!0,maxRows:1},t}(s.Component))},1612:function(e,t,a){"use strict";var n;a.d(t,"a",function(){return n}),function(e){e.SERVER_TIME_ROUTE="time",e[e.LOWER_TIME_LIMIT=8]="LOWER_TIME_LIMIT",e[e.UPPER_TIME_LIMIT=19]="UPPER_TIME_LIMIT",e[e.POLL_TIME=2e3]="POLL_TIME"}(n||(n={}))},1644:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(3),s=a(88),r=(a.n(s),a(26)),m=a(95),i=a(4),o=a(1612),c=function(e){return{topic:"live",payload:{time:e}}},l={POLL_TIME:15e3},u=new(function(e){function t(){var t=e.call(this,new s.BehaviorSubject(c(void 0)))||this;return t._serverTime$=new s.BehaviorSubject(void 0),t._clientServerDiffTime=0,t.hasFetched=!1,t.startWatcher=function(){t.hasFetched||(setInterval(function(){return t._check()},l.POLL_TIME),t.getServerTime(),t.hasFetched=!0)},t.getServerTime=function(){var a=m.a.getObjectByName("tz");if(!i.a.empty(a)&&a.hasOwnProperty("diff"))try{var n=a,s=new Date((new Date).getTime()-n.diff);t._serverTime$.next(s),t._sendTimeUpdate(s.getTime())}catch(e){}else e.prototype.doGet$.call(t,o.a.SERVER_TIME_ROUTE).subscribe(function(e){if(i.a.exists(e)){t._serverTime$.next(new Date(i.a.deepClone(e).date.replace(/\s/,"T")));var a=new Date(i.a.deepClone(e).date.replace(/\s/,"T")),n=(new Date).getTime()-a.getTime();m.a.saveObject("tz",{diff:n}),t._sendTimeUpdate((new Date).getTime()+t._clientServerDiffTime)}},function(e){})},t}return Object(n.c)(t,e),t.prototype._check=function(){0===this._clientServerDiffTime?this._setInitial():this._sendTimeUpdate((new Date).getTime()+this._clientServerDiffTime)},t.prototype._sendTimeUpdate=function(e){this.getServiceObservable$().next(c(e))},t.prototype._setInitial=function(){var e=this;this._serverTime$.subscribe(function(t){if(void 0!==t){e._serverTime=t;var a=(new Date).getTime();e._clientServerDiffTime=e._serverTime.getTime()-a,e._sendTimeUpdate(a+e._clientServerDiffTime)}})},t}(r.a))},1790:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(5),s=(a.n(n),function(e){var t=Array.from({length:3}).map(function(e,t){return n.createElement("li",{key:t,className:"comments__post"},n.createElement("div",{className:"c-loaderItem"},n.createElement("div",{className:"skldr-wrapper"},n.createElement("div",{className:"skldr title2"}),n.createElement("div",{className:"skldr title3"})),n.createElement("div",{className:"skldr line1"}),n.createElement("div",{className:"skldr line1"}),n.createElement("div",{className:"skldr line1"})))});return e.hasWrapper?n.createElement("ul",{className:e.wrapperClass,key:"loading"},t):n.createElement(n.Fragment,null,t)});s.displayName="CommentsLoader",s.defaultProps={wrapperClass:"",hasWrapper:!0}},1875:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(3),s=a(5),r=(a.n(s),a(249)),m=a(4),i=a(15),o=a(1876),c=a(1790),l=function(e){function t(a){var n=e.call(this,a)||this;return n.componentWillMount=function(){n.highlighting=i.a.register(function(e){"highlight-comment"===e.actionType&&n.setState({lastItem:e.urn,maxComments:n.state.maxComments})})},n.generateComments=function(){var e=[],a=0;return n.props.comments&&n.props.comments.slice(0,n.state.maxComments).forEach(function(r,i){var c={urn:r.urn,displayName:r.userName,text:r.body,date:r.createdOn};e.push(s.createElement(o.a,{selected:n.props.selected===c.urn,highlighted:n.state.lastItem,indented:!1,select:function(e){return n.select(e)},selectUrn:n.props.selectUrn?n.props.selectUrn:r.urn,comment:c,key:n.props.isEmbedded?"embedded"+i:i})),m.a.exists(r.embedded)&&m.a.exists(r.embedded.comments)&&0!==r.embedded.comments.length&&e.push(s.createElement(t,{fetching:!1,selected:n.props.selected,enabled:n.props.enabled,key:i+"embedded",isEmbedded:!0,selectUrn:r.urn,comments:r.embedded.comments,totalComments:r.embedded.count,select:n.props.select})),a++}),{comments:e,mainComments:a}},n.displayMore=function(){n.setState({maxComments:n.state.maxComments+20},function(){n.props.isEmbedded||n.props.loadMore(n.state.maxComments)})},n.select=function(e){n.props.select(e)},n.state={displayed:0,maxComments:20,lastItem:n.props.lastItem},n}return Object(n.c)(t,e),t.prototype.componentWillUnmount=function(){i.a.unregister(this.highlighting)},t.prototype.render=function(){var e=this.generateComments(),t=s.createElement("ul",{className:(this.props.isEmbedded?"comments__sublist":"comments__list")+(this.props.enabled?"":" notclickable")},e.comments,e.mainComments<this.props.totalComments&&e.comments.length>0&&!this.props.fetching&&s.createElement("li",{className:"comments__loadmorewrapper"},s.createElement(r.a,{hideCounts:!0,currentlyDisplayed:e.mainComments,totalItems:this.props.totalComments,loadMore:this.displayMore})),this.props.fetching&&s.createElement(c.a,{amount:3,hasWrapper:!1}));return this.props.isEmbedded?s.createElement("li",{className:"comments__post comments__post--has-subposts"}," ",t):t},t}(s.Component)},1876:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(5),s=(a.n(n),a(198)),r=function(e){return n.createElement("li",{id:e.comment.urn,className:"comments__post"+(e.indented?" comments__post--reply":"")+(e.highlighted===e.comment.urn?" comments__post--highlight":""),onClick:function(t){return e.select(e.selectUrn)}},n.createElement("cite",{className:"comments__post__author"},e.comment.displayName?e.comment.displayName:"Unknown user")," ",n.createElement("time",{className:"comments__post__date"},Object(s.k)(e.comment.date.toString())),n.createElement("blockquote",{className:"comments__post__text"},e.comment.text),n.createElement("span",{className:e.selected?"icon-comment":"icon-comment-o"}))};r.displayName="SingleComment"},1877:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(3),s=a(5),r=(a.n(s),a(4)),m=a(17),i=a(1878),o=a(1382),c=a(625),l=a(1879),u=a(1880),d=function(e){function t(t){var a=e.call(this,t)||this;return a.initialstate={reaction:{error:"",value:""},firstName:{value:"",error:""},lastName:{value:"",error:""},gender:{value:"",error:""},alias:{value:"",error:"",username:"",privateUsername:""},alreadyRegistered:!1,step:o.CommentStep.MESSAGE},a.updateText=function(e){a.setState({reaction:Object(n.a)(Object(n.a)({},a.state.reaction),{value:e})})},a.nextStep=function(e){switch(e.preventDefault(),a.state.step){case o.CommentStep.MESSAGE:a.validateMessage()||((s=m.d.getUserDetails())&&s.firstName&&s.lastName?s.displayName?a.setState({alreadyRegistered:!0,firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{value:s.firstName}),lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{value:s.lastName}),gender:Object(n.a)(Object(n.a)({},a.state.gender),{value:s.gender}),alias:Object(n.a)(Object(n.a)({},a.state.alias),{username:s.fullName,privateUsername:s.abbreviatedName,value:s.displayName})},function(){var e=a.state,t=e.alias,n=e.reaction,s=e.gender,r={alias:t.value,reaction:n.value,gender:s.value};a.props.addComment(r),a.setState({step:o.CommentStep.MESSAGE},function(){a.clearForm()})}):a.setState({alreadyRegistered:!0,step:o.CommentStep.ALIAS,firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{value:s.firstName}),lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{value:s.lastName}),gender:Object(n.a)(Object(n.a)({},a.state.gender),{value:s.gender}),alias:Object(n.a)(Object(n.a)({},a.state.alias),{username:s.fullName||s.firstName+" "+s.lastName,privateUsername:s.abbreviatedName})}):a.setState({step:o.CommentStep.REGISTER}));break;case o.CommentStep.REGISTER:if(!a.validateUser()){var t=m.d.getUserDetails();r.a.exists(t)&&m.d.isLoggedIn()&&(t.lastName=a.state.lastName.value,t.firstName=a.state.firstName.value,t.gender=a.state.gender.value,m.d.saveUserDetails(t).subscribe(function(e){e&&a.setState({step:o.CommentStep.ALIAS,alias:Object(n.a)(Object(n.a)({},a.state.alias),{username:t.firstName+" "+t.lastName,privateUsername:t.firstName+" "+t.lastName.slice(0,1)+"."})})}))}break;case o.CommentStep.ALIAS:if(!a.validateAlias()){var s=m.d.getUserDetails();r.a.exists(s)&&m.d.isLoggedIn()&&m.d.saveAlias(a.state.alias.value).subscribe(function(e){if(e){var t=a.state,n=t.reaction,s=t.gender,r={alias:e,reaction:n.value,gender:s.value};a.props.addComment(r),a.setState({step:o.CommentStep.MESSAGE},function(){a.clearForm()})}})}}},a.clearForm=function(){a.setState(Object(n.a)({},a.initialstate))},a.previousStep=function(e){switch(e.preventDefault(),a.state.step){case o.CommentStep.MESSAGE:a.clearForm(),c.a.closeCommentsModal(),a.props.resetSelected();break;case o.CommentStep.REGISTER:a.setState({step:o.CommentStep.MESSAGE,gender:a.initialstate.gender,firstName:a.initialstate.firstName,lastName:a.initialstate.lastName}),a.validateMessage();break;case o.CommentStep.ALIAS:if(a.state.alreadyRegistered)a.setState({step:o.CommentStep.MESSAGE,alias:a.initialstate.alias});else{var t=m.d.getUserDetails();t&&t.firstName&&t.lastName&&a.setState({firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{value:t.firstName}),lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{value:t.lastName}),gender:Object(n.a)(Object(n.a)({},a.state.gender),{value:t.gender})}),a.setState({step:o.CommentStep.REGISTER,alias:a.initialstate.alias}),a.validateUser()}}},a.validateMessage=function(){var e=!1;return a.state.reaction.value.length<3?(a.setState({reaction:Object(n.a)(Object(n.a)({},a.state.reaction),{error:"Message must be longer than 3 characters"})}),e=!0):a.setState({reaction:Object(n.a)(Object(n.a)({},a.state.reaction),{error:""})}),e},a.validateAlias=function(){var e=!1;return 0===a.state.alias.value.length?(e=!0,a.setState({alias:Object(n.a)(Object(n.a)({},a.state.alias),{error:"Gelieve uw alias aan te duiden"})})):a.setState({alias:Object(n.a)(Object(n.a)({},a.state.alias),{error:""})}),e},a.validateUser=function(){var e=a.validateFirstname(),t=a.validateLastname(),n=a.validateSalutation();return t||e||n},a.validateSalutation=function(){var e=!1;return 0===a.state.gender.value.length?(e=!0,a.setState({gender:Object(n.a)(Object(n.a)({},a.state.gender),{error:"Gelieve uw aanspreking aan te duiden"})})):a.setState({gender:Object(n.a)(Object(n.a)({},a.state.gender),{error:""})}),e},a.validateFirstname=function(){var e=!1;return a.state.firstName.value.length<2?(a.setState({firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{error:"Gelieve een correcte voornaam in te geven"})}),e=!0):a.setState({firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{error:""})}),e},a.validateLastname=function(){var e=!1;return a.state.lastName.value.length<2?(a.setState({lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{error:"Gelieve een correcte naam in te geven"})}),e=!0):a.setState({lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{error:""})}),e},a.updateLastname=function(e){a.setState({lastName:Object(n.a)(Object(n.a)({},a.state.lastName),{value:e.currentTarget.value})})},a.updateFirstname=function(e){a.setState({firstName:Object(n.a)(Object(n.a)({},a.state.firstName),{value:e.currentTarget.value})})},a.updateSalutation=function(e){a.setState({gender:Object(n.a)(Object(n.a)({},a.state.gender),{value:e.target.value})})},a.updateAlias=function(e){a.setState({alias:Object(n.a)(Object(n.a)({},a.state.alias),{value:e.target.value})})},a.state=a.initialstate,a.updateText=a.updateText.bind(a),a}return Object(n.c)(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{className:"comments__form"},s.createElement("form",{onSubmit:function(t){e.nextStep(t)},className:"form form--comment"},this.state.step===o.CommentStep.MESSAGE?s.createElement(l.a,{enabled:this.props.enabled,previousStep:function(t){return e.previousStep(t)},reaction:this.state.reaction,updateReaction:function(t){return e.updateText(t)}}):null,this.state.step===o.CommentStep.REGISTER?s.createElement(u.a,{firstName:this.state.firstName,lastName:this.state.lastName,gender:this.state.gender,previousStep:function(t){return e.previousStep(t)},updateSalutation:function(t){return e.updateSalutation(t)},updateFirstname:function(t){return e.updateFirstname(t)},updateLastname:function(t){return e.updateLastname(t)}}):null,this.state.step===o.CommentStep.ALIAS?s.createElement(i.a,{previousStep:function(t){return e.previousStep(t)},alias:this.state.alias,updateAlias:function(t){return e.updateAlias(t)}}):null))},t}(s.Component)},1878:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(5),s=(a.n(n),a(31)),r=a(7),m=a(4),i=function(e){var t='<a href="'+s.a.getObjectByNameWithType("profileUrl")+'">'+r.a.get("comments.profile")+"</a>";return n.createElement("fieldset",{className:"form__fieldset",id:"comment-fieldset-alias"},n.createElement("legend",{className:"form__legend sr-only"},r.a.get("comments.sr.alias.long")),n.createElement("div",{className:"form__item form__item--text"},n.createElement("p",{className:"text-global-2"},n.createElement("strong",null,r.a.get("comments.alias.disclaimer"))),n.createElement("h3",null,r.a.get("comments.alias.description"))),n.createElement("div",{className:"form__item form__item--group"},n.createElement("div",{className:"form__label sr-only"},r.a.get("comments.sr.alias.short")),n.createElement("div",{className:"form__item form__item--radio"},n.createElement("label",null,n.createElement("input",{name:"comment-alias",required:!0,type:"radio",defaultValue:e.alias.username,checked:e.alias.value===e.alias.username,onChange:function(t){return e.updateAlias(t)}}),n.createElement("span",null,e.alias.username.toUpperCase()))),n.createElement("div",{className:"form__item form__item--radio"},n.createElement("label",null,n.createElement("input",{onChange:function(t){return e.updateAlias(t)},checked:e.alias.value===e.alias.privateUsername,name:"comment-alias",required:!0,type:"radio",defaultValue:e.alias.privateUsername})," ",n.createElement("span",null,e.alias.privateUsername.toUpperCase()))),n.createElement("div",{className:"form__error form__error--hidden"},e.alias.error)),n.createElement("div",{className:"form__item form__item--text"},n.createElement("p",{dangerouslySetInnerHTML:m.a.createHtmlMarkup(r.a.getLabelWithArgs("comments.cta.profile",t))})),n.createElement("div",{className:"form__item form__item--text"},n.createElement("h3",null,r.a.get("comments.alias.decline.title")),n.createElement("p",null,r.a.get("comments.alias.decline.description"))),n.createElement("div",{className:"form__actions"},n.createElement("button",{className:"btn btn-global-2c5 btn-xs",type:"submit"},r.a.get("comments.cta.confirm")),n.createElement("button",{className:"btn btn-xs btn--link",type:"button",onClick:function(t){return e.previousStep(t)}},"Annuleer")))};i.displayName="AliasFieldset"},1879:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(5),s=(a.n(n),a(1508)),r=a(7),m=function(e){return n.createElement("fieldset",{className:"form__fieldset",id:"comment-fieldset-message"},e.enabled?null:n.createElement("div",{className:"commentformdisabled"},n.createElement("p",{className:"text-negative"},n.createElement("strong",null,r.a.get("comments.disabled.disclaimer")))),n.createElement("legend",{className:"form__legend sr-only"},r.a.get("comments.message.label")),n.createElement("div",{className:"form__item form__item--textarea "},n.createElement("label",{className:e.enabled?"":"disabled",htmlFor:"comment-message"},r.a.get("comments.message.label")),n.createElement(s.a,{placeholder:"",maxLength:1e3,id:"comment-message",value:e.reaction.value,change:function(t){!function(t){document.getElementById("comment-message").classList.remove("error"),e.updateReaction(t)}(t)},rows:1,maxRows:5,shouldGrow:!0,className:e.reaction.error?"error":"",disabled:!e.enabled,exceededMessage:r.a.get("comments.message.exceeded")})),n.createElement("div",{className:"form__actions"},n.createElement("button",{disabled:!e.enabled,className:"btn btn-global-2c5 btn-xs",type:"submit"},r.a.get("comments.cta.react")),n.createElement("button",{disabled:!e.enabled,onClick:function(t){return e.previousStep(t)},className:"btn btn-xs btn--link",type:"button"},r.a.get("comments.cta.cancel"))))};m.displayName="MessageFieldset"},1880:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(5),s=(a.n(n),a(7)),r=function(e){return n.createElement("fieldset",{className:"form__fieldset",id:"comment-fieldset-user"},n.createElement("legend",{className:"form__legend sr-only"},s.a.get("comments.sr.user")),n.createElement("div",{className:"form__item form__item--text"},n.createElement("p",{className:"text-global-2"},n.createElement("strong",null,s.a.get("comments.user.disclaimer"))),n.createElement("h3",null,s.a.get("comments.user.description"))),n.createElement("div",{className:"form__item form__item--group form__item--group--short"},n.createElement("div",{className:"form__label"},s.a.get("comments.user.salutation.label")),n.createElement("div",{className:"form__item form__item--radio"},n.createElement("label",null,n.createElement("input",{onChange:function(t){return e.updateSalutation(t)},checked:m[e.gender.value]===s.a.get("comments.user.salutation.male"),name:"comment-salutation",required:!0,type:"radio",defaultValue:"M"}),n.createElement("span",null,s.a.get("comments.user.salutation.male")))),n.createElement("div",{className:"form__item form__item--radio"},n.createElement("label",null,n.createElement("input",{name:"comment-salutation",onChange:function(t){return e.updateSalutation(t)},checked:m[e.gender.value]===s.a.get("comments.user.salutation.female"),required:!0,type:"radio",defaultValue:"F"}),n.createElement("span",null,s.a.get("comments.user.salutation.female")))),n.createElement("div",{className:"form__error form__error--hidden"},e.gender.error)),n.createElement("div",{className:"form__item form__item--group form__item--group--half"},n.createElement("div",{className:"form__item form__item--text"},n.createElement("label",{htmlFor:"comment-firstname"},s.a.get("comments.user.firstname.label"))," ",n.createElement("input",{onChange:function(t){return e.updateFirstname(t)},value:e.firstName.value,id:"comment-firstname",required:!0,type:"text"}),n.createElement("div",{className:"form__error form__error"},e.firstName.error)),n.createElement("div",{className:"form__item form__item--text"},n.createElement("label",{htmlFor:"comment-lastname"},s.a.get("comments.user.lastname.label"))," ",n.createElement("input",{onChange:function(t){return e.updateLastname(t)},value:e.lastName.value,id:"comment-lastname",required:!0,type:"text"}),n.createElement("div",{className:"form__error form__error"},e.lastName.error))),n.createElement("div",{className:"form__actions"},n.createElement("button",{className:"btn btn-global-2c5 btn-xs",type:"submit"},s.a.get("comments.cta.send"))," ",n.createElement("button",{className:"btn btn-xs btn--link",type:"button",onClick:function(t){return e.previousStep(t)}},s.a.get("comments.cta.cancel"))))};r.displayName="UserFieldset";var m={F:s.a.get("comments.user.salutation.female"),M:s.a.get("comments.user.salutation.male")}},1881:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(3),s=a(88),r=(a.n(s),a(26)),m=a(4),i=a(1644),o=a(179),c=function(e){return{topic:"can-comment",payload:{canComment:e}}},l=new(function(e){function t(){var t=e.call(this,new s.BehaviorSubject(c(!1)))||this;return t._openTime=new Date,t._openTime.setHours(o.b.LOWER_TIME_LIMIT),t._openTime.setMinutes(0),t._openTime.setSeconds(0),t._closeTime=new Date,t._closeTime.setHours(o.b.UPPER_TIME_LIMIT),t._closeTime.setMinutes(0),t._closeTime.setSeconds(0),i.a.getServiceObservable$().subscribe(function(e){m.a.exists(e.payload)&&m.a.exists(e.payload.time)&&t.getServiceObservable$().next(c(t._canComment(e.payload.time)))}),i.a.startWatcher(),t}return Object(n.c)(t,e),t.prototype._canComment=function(e){return e>=this._openTime.getTime()&&e<=this._closeTime.getTime()},t}(r.a))},1882:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(3),s=a(5),r=(a.n(s),a(7)),m=function(e){function t(t){var a=e.call(this,t)||this;return a.toggleSort=function(e){"asc"===e?a.updateSortDirection("desc"):a.updateSortDirection("asc")},a.updateSortDirection=function(e){a.setState({sortDirection:e},function(){a.props.sort(e)})},a.state={sortDirection:"desc"},a}return Object(n.c)(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{className:"comments__header__filters"},s.createElement("button",{onClick:function(){e.toggleSort(e.state.sortDirection)},className:"btn btn-neutral-6 btn-xs btn-uc","data-sort":this.state.sortDirection},s.createElement("span",{"aria-hidden":"true",className:"icon-chevron-down"}),s.createElement("span",{className:"btn__text","data-sort-id":"asc"},r.a.get("comments.sorting.oldestfirst")),s.createElement("span",{className:"btn__text","data-sort-id":"desc"},r.a.get("comments.sorting.newestfirst"))))},t}(s.Component)}});